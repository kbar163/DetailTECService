CREATE TABLE CITA
(
    --ID_CITA VA A SER UN ID NUMERICO AUTOMATICO, SE INCREMENTA EN 1 CON CADA INSERCION.
    ID_CITA INT IDENTITY(1,1) NOT NULL,
    CEDULA_CLIENTE VARCHAR(9) NOT NULL,
    PLACA_VEHICULO VARCHAR(6) NOT NULL,
    NOMBRE_SUCURSAL VARCHAR(20) NOT NULL,
    NOMBRE_LAVADO VARCHAR(50) NOT NULL,
    CEDULA_TRABAJADOR VARCHAR(9) NOT NULL,
    HORA DATETIME NOT NULL,
    FACTURADA BIT NOT NULL,
    PRIMARY KEY (ID_CITA)

);

CREATE TABLE FACTURA
(
    --ID_FACTURA VA A SER UN ID NUMERICO AUTOMATICO, SE INCREMENTA EN 1 CON CADA INSERCION.
    ID_FACTURA INT IDENTITY(1,1) NOT NULL,
    CEDULA_CLIENTE VARCHAR(9) NOT NULL,
    ID_CITA INT NOT NULL,
    CANTIDAD_SNACKS INT NOT NULL,
    CANTIDAD_BEBIDAS INT NOT NULL,
    PAGO_PUNTOS BIT NOT NULL
    PRIMARY KEY (ID_FACTURA)

);

ALTER TABLE FACTURA
ADD CONSTRAINT FK_FACTURA_CEDULA_CLIENTE
FOREIGN KEY (CEDULA_CLIENTE) REFERENCES CLIENTE(CEDULA_CLIENTE);

ALTER TABLE FACTURA
ADD CONSTRAINT FK_FACTURA_ID_CITA
FOREIGN KEY (ID_CITA) REFERENCES CITA(ID_CITA);

ALTER TABLE CITA
ADD CONSTRAINT FK_CITA_CEDULA_CLIENTE
FOREIGN KEY (CEDULA_CLIENTE) REFERENCES CLIENTE(CEDULA_CLIENTE);

ALTER TABLE CITA
ADD CONSTRAINT FK_CITA_NOMBRE_SUCURSAL
FOREIGN KEY (NOMBRE_SUCURSAL) REFERENCES SUCURSAL(NOMBRE_SUCURSAL);

ALTER TABLE CITA
ADD CONSTRAINT FK_CITA_NOMBRE_LAVADO
FOREIGN KEY (NOMBRE_LAVADO) REFERENCES LAVADO(NOMBRE_LAVADO);

ALTER TABLE CITA
ADD CONSTRAINT FK_CITA_CEDULA_TRABAJADOR
FOREIGN KEY (CEDULA_TRABAJADOR) REFERENCES TRABAJADOR(CEDULA_TRABAJADOR);